<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Groovy - Donal Mee</title> <link rel="shortcut icon" href="https://www.donal.mee.com/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="https://www.donal.mee.com/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-135505936-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-135505936-1', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="https://www.donal.mee.com/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="https://www.donal.mee.com/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Groovy | Donal Mee</title> <meta name="generator" content="Jekyll v4.1.1" /> <meta property="og:title" content="Groovy" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Notes on software and other things." /> <meta property="og:description" content="Notes on software and other things." /> <link rel="canonical" href="https://www.donal.mee.com/groovy/" /> <meta property="og:url" content="https://www.donal.mee.com/groovy/" /> <meta property="og:site_name" content="Donal Mee" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-08-20T07:00:00+01:00" /> <script type="application/ld+json"> {"headline":"Groovy","dateModified":"2020-08-20T07:00:00+01:00","datePublished":"2020-08-20T07:00:00+01:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.donal.mee.com/groovy/"},"url":"https://www.donal.mee.com/groovy/","description":"Notes on software and other things.","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://www.donal.mee.com/" class="site-title lh-tight"> Donal Mee </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"> <li class="nav-list-item"> <a href="https://www.donal.mee.com/" class="nav-list-link">Posts</a> </li><li class="nav-list-item"><a href="https://www.donal.mee.com/about/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="https://www.donal.mee.com/chef/" class="nav-list-link">Chef</a></li><li class="nav-list-item"><a href="https://www.donal.mee.com/fastai/" class="nav-list-link">Fast AI</a></li><li class="nav-list-item active"><a href="https://www.donal.mee.com/groovy/" class="nav-list-link active">Groovy</a></li><li class="nav-list-item"><a href="https://www.donal.mee.com/jekyll/" class="nav-list-link">Jekyll</a></li><li class="nav-list-item"><a href="https://www.donal.mee.com/jenkins-and-groovy/" class="nav-list-link">Jenkins and Groovy</a></li><li class="nav-list-item"><a href="https://www.donal.mee.com/powershell/" class="nav-list-link">Powershell</a></li></ul> </nav> <footer class="site-footer"> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Donal Mee" aria-label="Search Donal Mee" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <button class="btn js-toggle-dark-mode float-right">Dark mode</button> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="groovy"> <a href="#groovy" aria-labelledby="groovy" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groovy </h1> <ul id="markdown-toc"> <li><a href="#groovybat" id="markdown-toc-groovybat">Groovy.bat</a></li> <li><a href="#groovy-repl" id="markdown-toc-groovy-repl">Groovy repl</a></li> <li><a href="#debugger" id="markdown-toc-debugger">Debugger</a></li> <li><a href="#groovy-console" id="markdown-toc-groovy-console">Groovy console</a></li> <li><a href="#data-types" id="markdown-toc-data-types">Data types</a></li> <li><a href="#control-structures" id="markdown-toc-control-structures">Control structures</a></li> <li><a href="#functions" id="markdown-toc-functions">Functions</a></li> <li><a href="#closures" id="markdown-toc-closures">Closures</a></li> <li><a href="#classes" id="markdown-toc-classes">Classes</a></li> <li><a href="#knowing-how-to-do-stuff" id="markdown-toc-knowing-how-to-do-stuff">Knowing how to do stuff</a></li> <li><a href="#importing-packages" id="markdown-toc-importing-packages">Importing packages</a></li> <li><a href="#external-packages-grape" id="markdown-toc-external-packages-grape">External packages, Grape</a></li> <li><a href="#references" id="markdown-toc-references">References</a></li> </ul> <p>Groovy is a java-based scripting language a ‘java-script’ - haha.</p> <p>There’s not really such a thing as the groovy runtime. Groovy is a way to generate bytecode for the JVM. Groovy source-code goes through the groovy compiler (which itself runs on the JVM I presume) to produce JVM byte-code.</p> <p><a href="https://groovy.apache.org/download.html">groovy-download</a></p> <h2 id="groovybat"> <a href="#groovybat" aria-labelledby="groovybat" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groovy.bat </h2> <figure class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="nf">C:\Users\donal.mee</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">get-command</span><span class="w"> </span><span class="nx">groovy.bat</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nf">select</span><span class="w"> </span><span class="nt">-ExpandProperty</span><span class="w"> </span><span class="nx">source</span><span class="w">                                     
</span><span class="nf">C:\tools\groovy-2.5.1\bin\groovy.bat</span><span class="w">                                                                           
</span><span class="nf">C:\Users\donal.mee</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">groovy.bat</span><span class="w">                                                                                 
</span><span class="nf">error:</span><span class="w"> </span><span class="nx">neither</span><span class="w"> </span><span class="nt">-e</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="nx">filename</span><span class="w"> </span><span class="nx">provided</span><span class="w">                                                                         
</span><span class="nf">Usage:</span><span class="w"> </span><span class="nx">groovy</span><span class="w"> </span><span class="p">[</span><span class="kt">options</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="kt">filename</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="kt">args</span><span class="p">]</span><span class="w">                                                                      
</span><span class="nf">The</span><span class="w"> </span><span class="nx">Groovy</span><span class="w"> </span><span class="nx">command</span><span class="w"> </span><span class="nx">line</span><span class="w"> </span><span class="nx">processor.</span><span class="w">                                                                             
      </span><span class="nt">-cp</span><span class="p">,</span><span class="w"> </span><span class="nt">-classpath</span><span class="p">,</span><span class="w"> </span><span class="nt">--classpath</span><span class="o">=</span><span class="err">&lt;</span><span class="nf">path</span><span class="err">&gt;</span><span class="w">                                                                      
                             </span><span class="nf">Specify</span><span class="w"> </span><span class="nx">where</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">find</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">class</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="nf">-</span><span class="w"> </span><span class="nx">must</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">first</span><span class="w">                             
                               </span><span class="nf">argument</span><span class="w">                                                                        
  </span><span class="nt">-D</span><span class="p">,</span><span class="w"> </span><span class="nt">--define</span><span class="o">=</span><span class="err">&lt;</span><span class="nf">property</span><span class="o">=</span><span class="nf">value</span><span class="err">&gt;</span><span class="w">                                                                                
                             </span><span class="kr">Define</span><span class="w"> </span><span class="nf">a</span><span class="w"> </span><span class="nx">system</span><span class="w"> </span><span class="nx">property</span><span class="w">                                                          
      </span><span class="nt">--disableopt</span><span class="o">=</span><span class="nf">optlist</span><span class="p">[,</span><span class="no">optlist.</span><span class="o">..</span><span class="p">]</span><span class="w">                                                                        
                             </span><span class="nf">Disables</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="nx">all</span><span class="w"> </span><span class="nx">optimization</span><span class="w"> </span><span class="nx">elements</span><span class="p">;</span><span class="w"> </span><span class="nf">optlist</span><span class="w"> </span><span class="nx">can</span><span class="w">                            
                               </span><span class="nf">be</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">comma</span><span class="w"> </span><span class="nx">separated</span><span class="w"> </span><span class="nx">list</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">elements:</span><span class="w">                                    
                             </span><span class="nf">all</span><span class="w"> </span><span class="p">(</span><span class="nf">disables</span><span class="w"> </span><span class="nx">all</span><span class="w"> </span><span class="nx">optimizations</span><span class="p">),</span><span class="w">                                                 
                             </span><span class="nf">int</span><span class="w"> </span><span class="p">(</span><span class="nf">disable</span><span class="w"> </span><span class="nx">any</span><span class="w"> </span><span class="nx">int</span><span class="w"> </span><span class="nx">based</span><span class="w"> </span><span class="nx">optimizations</span><span class="p">)</span><span class="w">                                         
  </span><span class="nt">-d</span><span class="p">,</span><span class="w"> </span><span class="nt">--debug</span><span class="w">                </span><span class="nf">Debug</span><span class="w"> </span><span class="nx">mode</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">print</span><span class="w"> </span><span class="nx">out</span><span class="w"> </span><span class="nx">full</span><span class="w"> </span><span class="nx">stack</span><span class="w"> </span><span class="nx">traces</span><span class="w">                                       
  </span><span class="nt">-c</span><span class="p">,</span><span class="w"> </span><span class="nt">--encoding</span><span class="o">=</span><span class="err">&lt;</span><span class="nf">charset</span><span class="err">&gt;</span><span class="w">   </span><span class="nx">Specify</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">encoding</span><span class="w"> </span><span class="nx">of</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">files</span><span class="w">                                                 
  </span><span class="nt">-e</span><span class="o">=</span><span class="w"> </span><span class="err">&lt;</span><span class="nf">script</span><span class="err">&gt;</span><span class="w">               </span><span class="nx">Specify</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">command</span><span class="w"> </span><span class="nx">line</span><span class="w"> </span><span class="nx">script</span><span class="w">                                                     
  </span><span class="nt">-i</span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">&lt;</span><span class="kt">extension</span><span class="err">&gt;</span><span class="p">]</span><span class="w">          </span><span class="nf">Modify</span><span class="w"> </span><span class="nx">files</span><span class="w"> </span><span class="nx">in</span><span class="w"> </span><span class="nx">place</span><span class="p">;</span><span class="w"> </span><span class="nf">create</span><span class="w"> </span><span class="nx">backup</span><span class="w"> </span><span class="nx">if</span><span class="w"> </span><span class="nx">extension</span><span class="w"> </span><span class="nx">is</span><span class="w">                              
                               </span><span class="nf">given</span><span class="w"> </span><span class="p">(</span><span class="nf">e.g.</span><span class="w"> </span><span class="s1">'.bak'</span><span class="p">)</span><span class="w">                                                             
  </span><span class="nt">-n</span><span class="w">                         </span><span class="kr">Process</span><span class="w"> </span><span class="nf">files</span><span class="w"> </span><span class="nx">line</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="nx">line</span><span class="w"> </span><span class="nx">using</span><span class="w"> </span><span class="nx">implicit</span><span class="w"> </span><span class="s1">'line'</span><span class="w">                                  
                               </span><span class="nf">variable</span><span class="w">                                                                        
  </span><span class="nt">-p</span><span class="w">                         </span><span class="kr">Process</span><span class="w"> </span><span class="nf">files</span><span class="w"> </span><span class="nx">line</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="nx">line</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">print</span><span class="w"> </span><span class="nx">result</span><span class="w"> </span><span class="p">(</span><span class="nf">see</span><span class="w"> </span><span class="nx">also</span><span class="w">                             
                               </span><span class="nt">-n</span><span class="p">)</span><span class="w">                                                                             
      </span><span class="nt">-pa</span><span class="p">,</span><span class="w"> </span><span class="nt">--parameters</span><span class="w">      </span><span class="nf">Generate</span><span class="w"> </span><span class="nx">metadata</span><span class="w"> </span><span class="nx">for</span><span class="w"> </span><span class="nx">reflection</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">method</span><span class="w"> </span><span class="nx">parameter</span><span class="w">                              
                               </span><span class="nf">names</span><span class="w"> </span><span class="p">(</span><span class="nf">jdk8</span><span class="o">+</span><span class="w"> </span><span class="nx">only</span><span class="p">)</span><span class="w">                                                              
  </span><span class="nt">-l</span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">&lt;</span><span class="kt">port</span><span class="err">&gt;</span><span class="p">]</span><span class="w">               </span><span class="nf">Listen</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">process</span><span class="w"> </span><span class="nx">inbound</span><span class="w"> </span><span class="nx">lines</span><span class="w"> </span><span class="p">(</span><span class="nf">default:</span><span class="w">                              
                               </span><span class="mi">1960</span><span class="p">)</span><span class="w">                                                                           
  </span><span class="nt">-a</span><span class="p">,</span><span class="w"> </span><span class="nt">--autosplit</span><span class="p">[</span><span class="o">=</span><span class="err">&lt;</span><span class="kt">splitPattern</span><span class="err">&gt;</span><span class="p">]</span><span class="w">                                                                             
                             </span><span class="nf">Split</span><span class="w"> </span><span class="nx">lines</span><span class="w"> </span><span class="nx">using</span><span class="w"> </span><span class="nx">splitPattern</span><span class="w"> </span><span class="p">(</span><span class="nf">default</span><span class="w"> </span><span class="s1">'\s'</span><span class="p">)</span><span class="w"> </span><span class="kr">using</span><span class="w">                               
                               </span><span class="nf">implicit</span><span class="w"> </span><span class="s1">'split'</span><span class="w"> </span><span class="nx">variable</span><span class="w">                                                       
      </span><span class="nt">--indy</span><span class="w">                 </span><span class="nf">Enables</span><span class="w"> </span><span class="nx">compilation</span><span class="w"> </span><span class="nx">using</span><span class="w"> </span><span class="nx">invokedynamic</span><span class="w">                                           
      </span><span class="nt">--configscript</span><span class="o">=</span><span class="err">&lt;</span><span class="nf">script</span><span class="err">&gt;</span><span class="w">                                                                                  
                             </span><span class="nf">A</span><span class="w"> </span><span class="nx">script</span><span class="w"> </span><span class="nx">for</span><span class="w"> </span><span class="nx">tweaking</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">configuration</span><span class="w"> </span><span class="nx">options</span><span class="w">                                   
  </span><span class="nt">-b</span><span class="p">,</span><span class="w"> </span><span class="nt">--basescript</span><span class="o">=</span><span class="err">&lt;</span><span class="kr">class</span><span class="err">&gt;</span><span class="w">   </span><span class="kr">Base</span><span class="w"> </span><span class="kr">class</span><span class="w"> </span><span class="nc">name</span><span class="w"> </span><span class="nc">for</span><span class="w"> </span><span class="nc">scripts</span><span class="w"> </span><span class="err">(</span><span class="nc">must</span><span class="w"> </span><span class="nc">derive</span><span class="w"> </span><span class="nc">from</span><span class="w"> </span><span class="nc">Script</span><span class="err">)</span><span class="w">                             
  </span><span class="err">-</span><span class="nc">h</span><span class="p">,</span><span class="w"> </span><span class="err">--</span><span class="nc">help</span><span class="w">                 </span><span class="nc">Show</span><span class="w"> </span><span class="nc">this</span><span class="w"> </span><span class="nc">help</span><span class="w"> </span><span class="nc">message</span><span class="w"> </span><span class="nc">and</span><span class="w"> </span><span class="nc">exit</span><span class="w">                                                   
  </span><span class="err">-</span><span class="nc">v</span><span class="p">,</span><span class="w"> </span><span class="err">--</span><span class="nc">version</span><span class="w">              </span><span class="nc">Print</span><span class="w"> </span><span class="nc">version</span><span class="w"> </span><span class="nc">information</span><span class="w"> </span><span class="nc">and</span><span class="w"> </span><span class="nc">exit</span><span class="w"> </span></code></pre></figure> <p>This let’s you run your groovy code using a file.</p> <p>Define a file called <code class="language-plaintext highlighter-rouge">myfirst.groovy</code> and then put the following code in it</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="n">println</span> <span class="err">‘</span><span class="n">helloworld</span><span class="o">!</span><span class="err">’</span></code></pre></figure> <p>Then execute it by running</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">&gt;</span>groovy myfirst.groovy
helloworld!</code></pre></figure> <h2 id="groovy-repl"> <a href="#groovy-repl" aria-labelledby="groovy-repl" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groovy repl </h2> <p>There is also a groovy repl-like shell at <code class="language-plaintext highlighter-rouge">groovysh</code> <a href="https://groovy-lang.org/groovysh.html">groovy-sh</a></p> <h2 id="debugger"> <a href="#debugger" aria-labelledby="debugger" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Debugger </h2> <p>What about a debugger? There doesn’t seem to be any in-built debugger, instead people rely upon the debugger from Eclipise or IDEA (jetbrains). Lol, no built-in debugger wtf.</p> <p>At this point, it’s probably sane to say, just use IDEA to develop Groovy code. It’s pretty nice.</p> <h2 id="groovy-console"> <a href="#groovy-console" aria-labelledby="groovy-console" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groovy console </h2> <p>There is a groovy console at ‘groovyconsole.bat’ which is a little inbuilt ide</p> <p><img src="/assets/images/groovy-console.png" alt="groovy console" /></p> <p><code class="language-plaintext highlighter-rouge">def</code> allocate a variable, not a function definition.</p> <p><img src="/assets/images/groovy-console-2.png" alt="groovy console 2" /></p> <p>You can use a colon to write a message.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">x</span> <span class="o">+=</span> <span class="mi">5</span> 
<span class="n">println</span> <span class="n">x</span>
<span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">11</span><span class="o">:</span> <span class="s2">"Value wasn't eleven"</span></code></pre></figure> <h2 id="data-types"> <a href="#data-types" aria-labelledby="data-types" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data types </h2> <p>Groovy is an ‘optional typed’ language, meaning we can define the type being used or let groovy guess or interpret the type at runtime.</p> <p>You can also avoid a type definition at all.</p> <p>Let’s look at some basic datatypes.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Data type</th> <th style="text-align: left">Groovy keyword</th> <th style="text-align: left">Same data</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">Strings</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">String</code></td> <td style="text-align: left">“hello there”</td> </tr> <tr> <td style="text-align: left">Integers</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">int</code></td> <td style="text-align: left">0,1,2,3</td> </tr> <tr> <td style="text-align: left">Floats</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">float</code></td> <td style="text-align: left">0.5, 3.8</td> </tr> <tr> <td style="text-align: left">Boolean</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">Boolean</code></td> <td style="text-align: left">true, false</td> </tr> </tbody> </table></div> <p><img src="/assets/images/groovy-console-3.png" alt="groovy console 3" /></p> <p>The groovy runtime has coerced the different types into string types.</p> <p>We can improve upon the coercion</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="o">&gt;</span><span class="n">println</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">"is a programmer? "</span> <span class="o">+</span> <span class="n">isProgrammer</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">capitalize</span><span class="o">()</span>
<span class="n">donal</span> <span class="n">mee</span> <span class="n">is</span> <span class="n">a</span> <span class="n">programmer</span><span class="o">?</span> <span class="n">True</span></code></pre></figure> <p>The formatting of the float is a bit sucky. There is built-in formatting that we can use, the normal C type string formatting.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="o">&gt;</span><span class="n">println</span> <span class="n">name</span> <span class="o">+</span> <span class="err">“</span> <span class="n">wishes</span> <span class="n">his</span> <span class="n">salary</span> <span class="n">was</span> <span class="err">\</span><span class="n">$</span><span class="err">”</span> <span class="o">+</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="err">“</span><span class="o">%.</span><span class="mi">2</span><span class="n">f</span><span class="err">”</span><span class="o">,</span> <span class="n">salary</span><span class="o">)</span>
<span class="n">donal</span> <span class="n">mee</span> <span class="n">wishes</span> <span class="n">his</span> <span class="n">salary</span> <span class="n">was</span> <span class="n">$100000</span><span class="o">.</span><span class="mi">00</span></code></pre></figure> <p>Oh bummer! That didn’t work. It still rounded up the float. We can change from using a float to using the BigDecimal datatype.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="o">&gt;</span><span class="n">BigDecimal</span> <span class="n">salary</span> <span class="o">=</span> <span class="mf">999999.99</span>
<span class="o">&gt;</span><span class="n">println</span> <span class="n">name</span> <span class="o">+</span> <span class="err">“</span><span class="n">wishes</span> <span class="n">his</span> <span class="n">salary</span> <span class="n">was</span> <span class="err">\</span><span class="n">$</span><span class="err">”</span> <span class="o">+</span> <span class="n">String</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="err">“</span><span class="o">%.</span><span class="mi">2</span><span class="n">f</span><span class="err">”</span><span class="o">,</span> <span class="n">salary</span><span class="o">)</span>
<span class="n">donal</span> <span class="n">mee</span> <span class="n">wishes</span> <span class="n">his</span> <span class="n">salary</span> <span class="n">was</span> <span class="n">$99999</span><span class="o">.</span><span class="mi">99</span></code></pre></figure> <p>Or we can just output the raw string conversion and that gives us what we want.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="o">&gt;</span><span class="n">BigDecimal</span> <span class="n">salary</span> <span class="o">=</span> <span class="mf">999999.99</span>
<span class="o">&gt;</span><span class="n">println</span> <span class="n">name</span> <span class="o">+</span> <span class="err">“</span><span class="n">wishes</span> <span class="n">his</span> <span class="n">salary</span> <span class="n">was</span> <span class="err">\</span><span class="n">$</span><span class="err">”</span> <span class="o">+</span> <span class="n">salary</span>
<span class="n">donal</span> <span class="n">mee</span> <span class="n">wishes</span> <span class="n">his</span> <span class="n">salary</span> <span class="n">was</span> <span class="n">$99999</span><span class="o">.</span><span class="mi">99</span></code></pre></figure> <p>You can also do multiple assignment on a single line</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="o">(</span><span class="n">String</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="err">‘</span><span class="n">foo</span><span class="err">’</span><span class="o">,</span> <span class="mi">42</span><span class="o">]</span></code></pre></figure> <p>In summary:</p> <ul> <li>You can use optional <code class="language-plaintext highlighter-rouge">def</code> to which is basically like <code class="language-plaintext highlighter-rouge">auto</code>, just let groovy automatically determine the type.</li> <li>Or you can be explicit like <code class="language-plaintext highlighter-rouge">String donal = "hello"</code>.</li> <li>Semi-colons are also optional, perform the same thing as a C semi-colon. A line ending is the same thing as a semi-colon. ‘Optional’ semicolons.</li> </ul> <h2 id="control-structures"> <a href="#control-structures" aria-labelledby="control-structures" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Control structures </h2> <p>Quite good documentation here <a href="http://groovy-lang.org/semantics.html">groovy-docs-semantics</a></p> <p>The if statement looks like most if statements</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="k">if</span> <span class="o">(</span> <span class="o">...</span> <span class="o">)</span> <span class="o">{</span>
    <span class="o">...</span>
<span class="o">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">(...)</span> <span class="o">{</span>
    <span class="o">...</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
<span class="o">}</span></code></pre></figure> <p>Loops look pretty normal too</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="err">‘’</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
  <span class="n">message</span> <span class="o">+=</span> <span class="err">‘</span><span class="n">Hi</span> <span class="err">‘</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">message</span> <span class="o">==</span> <span class="err">‘</span><span class="n">Hi</span> <span class="n">Hi</span> <span class="n">Hi</span> <span class="err">’</span></code></pre></figure> <p>You can also do a more elaborate, comma-separate expression for loop</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="n">facts</span> <span class="o">=</span> <span class="o">[]</span>
<span class="kt">def</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">fact</span> <span class="o">=</span> <span class="mi">1</span><span class="o">,</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">count</span><span class="o">;</span> <span class="n">i</span><span class="o">++,</span> <span class="n">fact</span> <span class="o">*=</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">facts</span> <span class="o">&lt;&lt;</span> <span class="n">fact</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">facts</span> <span class="o">==</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">24</span><span class="o">,</span><span class="mi">120</span><span class="o">]</span></code></pre></figure> <p>And also, you can use the good old for-in for which works for any kind of collection etc</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="c1">// iterate over a range
</span>
<span class="kt">def</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">0</span><span class="o">..</span><span class="mi">9</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">x</span> <span class="o">+=</span> <span class="n">i</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">45</span>

<span class="c1">// over a list
</span>
<span class="kt">def</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">i</span> <span class="k">in</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">]</span> <span class="o">)</span> <span class="o">{</span>
  <span class="n">x</span> <span class="o">+=</span> <span class="n">i</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">10</span>

<span class="c1">// iterate over a map (hashtable)
</span>
<span class="kt">def</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
<span class="kt">def</span> <span class="n">map</span> <span class="o">=</span> <span class="o">[</span><span class="err">‘</span><span class="n">abc</span><span class="err">’</span><span class="o">:</span><span class="mi">1</span><span class="o">,</span> <span class="err">‘</span><span class="kt">def</span><span class="err">’</span><span class="o">:</span><span class="mi">2</span><span class="o">,</span> <span class="err">‘</span><span class="n">xyz</span><span class="err">’</span><span class="o">:</span><span class="mi">3</span><span class="o">]</span>
<span class="k">for</span> <span class="o">(</span> <span class="n">v</span> <span class="k">in</span> <span class="n">map</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">x</span> <span class="o">+=</span> <span class="n">v</span><span class="o">.</span><span class="na">value</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">6</span></code></pre></figure> <p>And there’s also the good old while loop</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span> <span class="mi">5</span><span class="o">]</span>
<span class="k">while</span> <span class="o">(</span><span class="n">y</span><span class="o">--</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
  <span class="n">x</span><span class="o">++</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">5</span>
<span class="k">assert</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span></code></pre></figure> <p>We can also use a ruby-like .each for iteration</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="n">singers</span> <span class="o">=</span> <span class="o">[</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">]</span>
<span class="n">singers</span><span class="o">.</span><span class="na">each</span><span class="o">{</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">println</span><span class="o">(</span><span class="n">x</span><span class="o">)}</span>
<span class="c1">// or we could use the ‘it’ keyword to do the same thing
</span>
<span class="n">singers</span><span class="o">.</span><span class="na">each</span><span class="o">{</span><span class="n">println</span> <span class="n">it</span><span class="o">}</span></code></pre></figure> <h2 id="functions"> <a href="#functions" aria-labelledby="functions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functions </h2> <p>You can define a function that’s return type is determined at runtime using def</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="nf">callMe</span><span class="o">()</span> <span class="o">{</span>
  <span class="err">‘</span><span class="n">Call</span> <span class="n">me</span> <span class="n">on</span> <span class="mi">07812301129</span><span class="err">’</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="nf">callMe</span><span class="o">()</span> <span class="o">==</span> <span class="err">‘</span><span class="n">Call</span> <span class="n">me</span> <span class="n">on</span> <span class="mi">07812301129</span><span class="err">’</span></code></pre></figure> <p>This shows an interesting thing about groovy, just like ruby or powershell. The last thing evaluated in the function is returned. I.e. the ‘return’ keyword is optional. <a href="http://groovy-lang.org/semantics.html#_optional_return_keyword">groovy-docs-semantics-optional-keyword</a>.</p> <p>Also, by default, all classes and methods are public, thus there is no need to write</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public def callMe() {…}
</code></pre></div></div> <p>But of course, being explicit with your types may be better or make things more readable</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="n">String</span> <span class="nf">getUserName</span><span class="o">(</span><span class="n">String</span> <span class="n">firstName</span><span class="o">,</span> <span class="n">String</span> <span class="n">lastName</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">firstName</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">).</span><span class="na">toLowerCase</span><span class="o">()</span> <span class="o">+</span> <span class="n">lastName</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">();</span>
<span class="o">}</span>
<span class="k">assert</span> <span class="nf">getUserName</span><span class="o">(</span><span class="s2">"Chris"</span><span class="o">,</span> <span class="s2">"Behrens"</span><span class="o">)</span> <span class="o">==</span> <span class="s2">"cbehrens"</span> <span class="o">:</span> <span class="s2">"getUsername isn't working"</span></code></pre></figure> <p>There is a void keyword that we can use to say a function won’t return anything</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">void</span> <span class="nf">printCred</span><span class="o">(</span><span class="n">cred</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">// and here we use in-built string interpolation g-string
</span>
  <span class="n">println</span><span class="o">(</span><span class="err">“</span><span class="n">UserName</span> <span class="n">is</span> <span class="n">$</span><span class="o">{</span><span class="n">cred</span><span class="o">}</span><span class="err">”</span><span class="o">)</span>
<span class="o">}</span>
<span class="n">printCred</span><span class="o">(</span><span class="err">“</span><span class="n">Donal</span> <span class="n">Mee</span><span class="err">”</span><span class="o">)</span></code></pre></figure> <h2 id="closures"> <a href="#closures" aria-labelledby="closures" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Closures </h2> <p>Closures are like anonymous functions, they are defined and then only executed when called</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="n">close</span> <span class="o">=</span> <span class="o">{</span> <span class="n">println</span> <span class="err">‘</span><span class="n">hello</span><span class="err">’</span> <span class="o">}</span>
<span class="n">close</span><span class="o">()</span></code></pre></figure> <p>They are defined using {} curly-braces.</p> <p>What’s the difference between a function and a closure? Quite a few functions in groovy will take a closure as an argument, like the <code class="language-plaintext highlighter-rouge">.each()</code> method. So you can write:</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="o">(</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="o">).</span><span class="na">each</span><span class="o">({</span><span class="n">close</span><span class="o">})</span></code></pre></figure> <p>I assume it’s the use of closures that help create a DSL in groovy. I’m not sure. This is interesting to know. We can pretty easily define parameters a closure takes using the <code class="language-plaintext highlighter-rouge">-&gt;</code> symbol.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kt">def</span> <span class="n">twoParams</span> <span class="o">=</span> <span class="o">{</span> <span class="n">pm1</span><span class="o">,</span> <span class="n">pm2</span> <span class="o">-&gt;</span>
  <span class="n">println</span> <span class="err">“</span><span class="nl">pm1:</span> <span class="n">$pm1</span><span class="o">,</span> <span class="nl">pm2:</span> <span class="n">$pm2</span><span class="err">”</span>
<span class="o">}</span>
<span class="n">twoParams</span> <span class="err">“</span><span class="n">calif</span></code></pre></figure> <h2 id="classes"> <a href="#classes" aria-labelledby="classes" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Classes </h2> <p>Classes are pretty much the same as Java. The relevant documentation is here <a href="http://groovy-lang.org/objectorientation.html">groovy-docs-oop</a>.</p> <p>They seem pretty straightforward, for example here’s some code</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">lastName</span><span class="o">;</span>
  <span class="n">String</span> <span class="n">firstName</span><span class="o">;</span>
  <span class="c1">// initaliser method would be called User
</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">fullName</span><span class="o">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">firstName</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">).</span><span class="na">toLowerCase</span><span class="o">()</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">lastName</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">()</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">String</span><span class="o">[]</span> <span class="n">firstNames</span> <span class="o">=</span> <span class="o">[</span><span class="s2">"Bob"</span><span class="o">,</span> <span class="s2">"Jeff"</span><span class="o">,</span> <span class="s2">"Roy"</span><span class="o">]</span>
<span class="n">String</span><span class="o">[]</span> <span class="n">lastNames</span> <span class="o">=</span> <span class="o">[</span><span class="s2">"Tibi"</span><span class="o">,</span> <span class="s2">"Trump"</span><span class="o">,</span> <span class="s2">"Rogan"</span><span class="o">]</span></code></pre></figure> <p>The transpose function is acting like pythons zip.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="o">[</span><span class="n">firstNames</span><span class="o">,</span> <span class="n">lastNames</span><span class="o">].</span><span class="na">transpose</span><span class="o">().</span><span class="na">each</span><span class="o">{</span> <span class="n">fN</span><span class="o">,</span> <span class="n">fY</span> <span class="o">-&gt;</span>
    <span class="n">User</span> <span class="n">u</span> <span class="o">=</span> <span class="k">new</span> <span class="n">User</span><span class="o">(</span><span class="nl">firstName:</span> <span class="n">fN</span><span class="o">,</span> <span class="nl">lastName:</span> <span class="n">fY</span><span class="o">)</span>
    <span class="n">println</span> <span class="o">(</span><span class="s2">"Username is ${u.fullName()}"</span><span class="o">)</span>
<span class="o">}</span></code></pre></figure> <p>Groovy supports inheritance and interfaces. It also supports abstract class.</p> <p>And abstract class is one you cannot directly instantiate. Instead, you can define a new class that implements the abstract class and you can instantiate that class. The abstract class itself can define things that are then shared by concrete implemnenter classes. It’s a way of sharing code between classes.</p> <p>There is an <code class="language-plaintext highlighter-rouge">abstract</code> and <code class="language-plaintext highlighter-rouge">extends</code> keyword.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="c1">// abstract class cannot be directly instantiated
</span>
<span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
  <span class="n">String</span> <span class="n">lastName</span><span class="o">;</span>
  <span class="n">String</span> <span class="n">firstName</span><span class="o">;</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">fullName</span><span class="o">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">firstName</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">1</span><span class="o">).</span><span class="na">toLowerCase</span><span class="o">()</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">lastName</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">()</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// two concrete implementations of the abstract class
</span>
<span class="kd">class</span> <span class="nc">Artist</span> <span class="kd">extends</span> <span class="n">Person</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span><span class="o">[]</span> <span class="n">Songs</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Producer</span> <span class="kd">extends</span> <span class="n">Person</span> <span class="o">{</span>
    <span class="c1">// just a stub method
</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">Produce</span><span class="o">(){};</span>
<span class="o">}</span>

<span class="n">Artist</span> <span class="n">dillon</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Artist</span><span class="o">(</span><span class="nl">firstName:</span> <span class="s2">"Bob"</span><span class="o">,</span> <span class="nl">lastName:</span> <span class="s2">"Dillon"</span><span class="o">)</span>
<span class="n">Producer</span> <span class="n">michael</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Producer</span><span class="o">(</span><span class="nl">firstName:</span> <span class="s2">"Michael"</span><span class="o">,</span> <span class="nl">lastName:</span> <span class="s2">"Producer"</span><span class="o">)</span>
<span class="n">println</span> <span class="n">dillon</span><span class="o">.</span><span class="na">fullName</span><span class="o">()</span>
<span class="n">println</span> <span class="n">michael</span><span class="o">.</span><span class="na">fullName</span><span class="o">()</span></code></pre></figure> <h2 id="knowing-how-to-do-stuff"> <a href="#knowing-how-to-do-stuff" aria-labelledby="knowing-how-to-do-stuff" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Knowing how to do stuff </h2> <p>In an above example, I worked out how to get something like python’s zip, which is known as traverse in groovy.</p> <p>The documentation for groovy isn’t as good as python’s. But with a bit of searching, you can find stuff.</p> <p>There seems to be a bit of a lack of standard library documentation. From what I can see, a place that has a list of useful things to know is here <a href="http://groovy-lang.org/groovy-dev-kit.html">groovy-docs-dev-kit</a>.</p> <h2 id="importing-packages"> <a href="#importing-packages" aria-labelledby="importing-packages" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Importing packages </h2> <p>There are some default imports with groovy.</p> <p>Information around imports and packages can be found at <a href="https://groovy-lang.org/structure.html">groovy-docs-structure</a>.</p> <p>There’s an import and package keyword.</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="c1">// importing the class MarkupBuilder from the groovy.xml package
</span>
<span class="kn">import</span> <span class="nn">groovy.xml.MarkupBuilder</span>
<span class="c1">// now you can use the MarkupBuilder
</span>
<span class="kt">def</span> <span class="n">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MarkupBuilder</span><span class="o">()</span></code></pre></figure> <p>There’s also a star syntax like python’s import, except it’s appended</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="c1">// import everything from groovy.xml
</span>
<span class="kn">import</span> <span class="nn">groovy.xml.*</span></code></pre></figure> <p>You can also alias import like python</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="n">Import</span> <span class="n">java</span><span class="o">.</span><span class="na">sql</span><span class="o">.</span><span class="na">Date</span> <span class="k">as</span> <span class="n">SQLDate</span></code></pre></figure> <h2 id="external-packages-grape"> <a href="#external-packages-grape" aria-labelledby="external-packages-grape" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> External packages, Grape </h2> <p>Like NPM or Nuget, we can install and import external packages using a dependency manager called ‘Grape.’</p> <figure class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="c1">// This will get the spring-orm package from mvnrepository.com (maven)
</span>
<span class="nd">@Grab</span><span class="o">(</span><span class="n">group</span><span class="o">=</span><span class="err">’</span><span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="err">’</span><span class="o">,</span> <span class="n">module</span><span class="o">=</span><span class="err">’</span><span class="n">sprint</span><span class="o">-</span><span class="n">orm</span><span class="err">’</span><span class="o">,</span> <span class="n">version</span><span class="o">=</span><span class="err">’</span><span class="mf">5.2</span><span class="o">.</span><span class="mi">4</span><span class="o">.</span><span class="na">RELEASE</span><span class="err">’</span><span class="o">)</span>
<span class="c1">// this will then enable this class to be imported that doesn’t come as standard
</span>
<span class="kn">import</span> <span class="nn">org.springframework.jdbc.core.JdbcTemplate</span></code></pre></figure> <p>Documentation is available at <a href="http://docs.groovy-lang.org/latest/html/documentation/grape.html">grape-docs</a></p> <p>More information about the maven repo at <a href="https://mvnrepository.com/">maven</a></p> <p>Note, @grab does not work in pipeline scripts. Instead, you need to install a plugin that provides functions you want.</p> <h2 id="references"> <a href="#references" aria-labelledby="references" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> References </h2> <ul> <li><a href="https://groovy.apache.org/download.html">groovy-download</a></li> <li><a href="https://groovy-lang.org/groovysh.html">groovy-sh</a></li> <li><a href="http://groovy-lang.org/semantics.html">groovy-docs-semantics</a></li> <li><a href="http://groovy-lang.org/semantics.html#_optional_return_keyword">groovy-docs-semantics-optional-keyword</a></li> <li><a href="http://groovy-lang.org/objectorientation.html">groovy-docs-oop</a></li> <li><a href="http://groovy-lang.org/groovy-dev-kit.html">groovy-docs-dev-kit</a></li> <li><a href="https://groovy-lang.org/structure.html">groovy-docs-structure</a></li> <li><a href="http://docs.groovy-lang.org/latest/html/documentation/grape.html">grape-docs</a></li> <li><a href="https://mvnrepository.com/">maven</a></li> <li><a href="https://www.pluralsight.com/courses/groovy-fundamentals">pluralsight-groovy-fundamentals</a></li> </ul> </div> </div> <div class="search-overlay"></div> </div> <script> const toggleDarkMode = document.querySelector('.js-toggle-dark-mode'); jtd.addEvent(toggleDarkMode, 'click', function(){ if (jtd.getTheme() === 'dark') { jtd.setTheme('light'); toggleDarkMode.textContent = 'Dark mode'; } else { jtd.setTheme('dark'); toggleDarkMode.textContent = 'Light mode'; } }); </script> </body> </html>
